<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.innovation.platform.system.mapper.InsuranceVinsunRecordsMapper">
    
    <resultMap type="InsuranceVinsunRecords" id="InsuranceVinsunRecordsResult">
        <result property="id"    column="id"    />
        <result property="historyId"    column="history_id"    />
        <result property="appKey"    column="app_key"    />
        <result property="channel"    column="channel"    />
        <result property="requestTime"    column="request_time"    />
        <result property="sign"    column="sign"    />
        <result property="mchId"    column="mch_id"    />
        <result property="spBillno"    column="sp_billno"    />
        <result property="name"    column="name"    />
        <result property="sex"    column="sex"    />
        <result property="birth"    column="birth"    />
        <result property="mobile"    column="mobile"    />
        <result property="clientIp"    column="client_ip"    />
        <result property="clientCity"    column="client_city"    />
        <result property="clientProvince"    column="client_province"    />
        <result property="media"    column="media"    />
        <result property="ua"    column="ua"    />
        <result property="userCard"    column="user_card"    />
        <result property="remark"    column="remark"    />
        <result property="status"    column="status"    />
        <result property="result"    column="result"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateTime"    column="update_time"    />
    </resultMap>
	
	<sql id="selectInsuranceVinsunRecordsVo">
        select id, history_id, app_key, channel, request_time, sign, mch_id, sp_billno, name, sex, birth, mobile, client_ip, client_city, client_province, media, ua, user_card, remark, status, result, create_time, update_time from tb_insurance_vinsun_records
    </sql>
	
    <select id="selectInsuranceVinsunRecordsList" parameterType="InsuranceVinsunRecords" resultMap="InsuranceVinsunRecordsResult">
        <include refid="selectInsuranceVinsunRecordsVo"/>
        <where>  
            <if test="id != null "> and id = #{id}</if>
             <if test="historyId != null "> and history_id = #{historyId}</if>
             <if test="appKey != null  and appKey != '' "> and app_key = #{appKey}</if>
             <if test="channel != null  and channel != '' ">
				and channel like concat('%', #{channel}, '%')
			 </if>
             <if test="requestTime != null  and requestTime != '' "> and request_time = #{requestTime}</if>
             <if test="sign != null  and sign != '' "> and sign = #{sign}</if>
             <if test="mchId != null  and mchId != '' "> and mch_id = #{mchId}</if>
             <if test="spBillno != null  and spBillno != '' "> and sp_billno = #{spBillno}</if>
             <if test="name != null  and name != '' "> 
				and name like concat('%', #{name}, '%')
			 </if>
             <if test="sex != null  and sex != '' "> and sex = #{sex}</if>
             <if test="birth != null  and birth != '' "> and birth = #{birth}</if>
             <if test="mobile != null  and mobile != '' "> 
             	 and mobile like concat('%', #{mobile}, '%')
             </if>
             <if test="clientIp != null  and clientIp != '' "> and client_ip = #{clientIp}</if>
             <if test="clientCity != null  and clientCity != '' "> and client_city = #{clientCity}</if>
             <if test="clientProvince != null  and clientProvince != '' "> and client_province = #{clientProvince}</if>
             <if test="media != null  and media != '' "> and media = #{media}</if>
             <if test="ua != null  and ua != '' "> and ua = #{ua}</if>
             <if test="userCard != null  and userCard != '' "> and user_card = #{userCard}</if>
             <if test="remark != null  and remark != '' "> and remark = #{remark}</if>
             <if test="status != null  and status != '' "> and status = #{status}</if>
             <if test="result != null  and result != '' "> and result = #{result}</if>
             <if test="createTime != null "> and create_time = #{createTime}</if>
             <if test="updateTime != null "> and DATE_FORMAT(update_time,'%Y-%m-%d') = DATE_FORMAT(#{updateTime},'%Y-%m-%d')</if>
         </where>
    </select>
    
    <select id="selectInsuranceVinsunRecordsById" parameterType="Integer" resultMap="InsuranceVinsunRecordsResult">
        <include refid="selectInsuranceVinsunRecordsVo"/>
        where id = #{id}
    </select>
        
    <insert id="insertInsuranceVinsunRecords" parameterType="InsuranceVinsunRecords">
        insert into tb_insurance_vinsun_records
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null  ">id,</if>
			<if test="historyId != null  ">history_id,</if>
			<if test="appKey != null  and appKey != ''  ">app_key,</if>
			<if test="channel != null  and channel != ''  ">channel,</if>
			<if test="requestTime != null  and requestTime != ''  ">request_time,</if>
			<if test="sign != null  and sign != ''  ">sign,</if>
			<if test="mchId != null  and mchId != ''  ">mch_id,</if>
			<if test="spBillno != null  and spBillno != ''  ">sp_billno,</if>
			<if test="name != null  and name != ''  ">name,</if>
			<if test="sex != null  and sex != ''  ">sex,</if>
			<if test="birth != null  and birth != ''  ">birth,</if>
			<if test="mobile != null  and mobile != ''  ">mobile,</if>
			<if test="clientIp != null  and clientIp != ''  ">client_ip,</if>
			<if test="clientCity != null  and clientCity != ''  ">client_city,</if>
			<if test="clientProvince != null  and clientProvince != ''  ">client_province,</if>
			<if test="media != null  and media != ''  ">media,</if>
			<if test="ua != null  and ua != ''  ">ua,</if>
			<if test="userCard != null  and userCard != ''  ">user_card,</if>
			<if test="remark != null  and remark != ''  ">remark,</if>
			<if test="status != null  and status != ''  ">status,</if>
			<if test="result != null  and result != ''  ">result,</if>
			<if test="createTime != null  ">create_time,</if>
			<if test="updateTime != null  ">update_time,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null  ">#{id},</if>
			<if test="historyId != null  ">#{historyId},</if>
			<if test="appKey != null  and appKey != ''  ">#{appKey},</if>
			<if test="channel != null  and channel != ''  ">#{channel},</if>
			<if test="requestTime != null  and requestTime != ''  ">#{requestTime},</if>
			<if test="sign != null  and sign != ''  ">#{sign},</if>
			<if test="mchId != null  and mchId != ''  ">#{mchId},</if>
			<if test="spBillno != null  and spBillno != ''  ">#{spBillno},</if>
			<if test="name != null  and name != ''  ">#{name},</if>
			<if test="sex != null  and sex != ''  ">#{sex},</if>
			<if test="birth != null  and birth != ''  ">#{birth},</if>
			<if test="mobile != null  and mobile != ''  ">#{mobile},</if>
			<if test="clientIp != null  and clientIp != ''  ">#{clientIp},</if>
			<if test="clientCity != null  and clientCity != ''  ">#{clientCity},</if>
			<if test="clientProvince != null  and clientProvince != ''  ">#{clientProvince},</if>
			<if test="media != null  and media != ''  ">#{media},</if>
			<if test="ua != null  and ua != ''  ">#{ua},</if>
			<if test="userCard != null  and userCard != ''  ">#{userCard},</if>
			<if test="remark != null  and remark != ''  ">#{remark},</if>
			<if test="status != null  and status != ''  ">#{status},</if>
			<if test="result != null  and result != ''  ">#{result},</if>
			<if test="createTime != null  ">#{createTime},</if>
			<if test="updateTime != null  ">#{updateTime},</if>
         </trim>
    </insert>
	 
    <update id="updateInsuranceVinsunRecords" parameterType="InsuranceVinsunRecords">
        update tb_insurance_vinsun_records
        <trim prefix="SET" suffixOverrides=",">
            <if test="historyId != null  ">history_id = #{historyId},</if>
            <if test="appKey != null  and appKey != ''  ">app_key = #{appKey},</if>
            <if test="channel != null  and channel != ''  ">channel = #{channel},</if>
            <if test="requestTime != null  and requestTime != ''  ">request_time = #{requestTime},</if>
            <if test="sign != null  and sign != ''  ">sign = #{sign},</if>
            <if test="mchId != null  and mchId != ''  ">mch_id = #{mchId},</if>
            <if test="spBillno != null  and spBillno != ''  ">sp_billno = #{spBillno},</if>
            <if test="name != null  and name != ''  ">name = #{name},</if>
            <if test="sex != null  and sex != ''  ">sex = #{sex},</if>
            <if test="birth != null  and birth != ''  ">birth = #{birth},</if>
            <if test="mobile != null  and mobile != ''  ">mobile = #{mobile},</if>
            <if test="clientIp != null  and clientIp != ''  ">client_ip = #{clientIp},</if>
            <if test="clientCity != null  and clientCity != ''  ">client_city = #{clientCity},</if>
            <if test="clientProvince != null  and clientProvince != ''  ">client_province = #{clientProvince},</if>
            <if test="media != null  and media != ''  ">media = #{media},</if>
            <if test="ua != null  and ua != ''  ">ua = #{ua},</if>
            <if test="userCard != null  and userCard != ''  ">user_card = #{userCard},</if>
            <if test="remark != null  and remark != ''  ">remark = #{remark},</if>
            <if test="status != null  and status != ''  ">status = #{status},</if>
            <if test="result != null  and result != ''  ">result = #{result},</if>
            <if test="createTime != null  ">create_time = #{createTime},</if>
            <if test="updateTime != null  ">update_time = #{updateTime},</if>
        </trim>
        where id = #{id}
    </update>

	<delete id="deleteInsuranceVinsunRecordsById" parameterType="Integer">
        delete from tb_insurance_vinsun_records where id = #{id}
    </delete>
	
    <delete id="deleteInsuranceVinsunRecordsByIds" parameterType="String">
        delete from tb_insurance_vinsun_records where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
    
</mapper>